

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="LonlyPan">
  <meta name="keywords" content="LonlyPan个人站，LonlyPan，Lonly，致简，丢了幸福的猪，逍遥勿忘心安">
  
    <meta name="description" content="KiCad使用笔记（01）-介绍及设置 KiCad 是一个开源软件工具，用于创建电子原理图和 PCB 图形。   有充分的理由认为, KiCad 已足够成熟, 并可以用于开发和维护复杂的电路板。 KiCad 对电路板的大小不做任何限制, 它可以轻松地处理多达 32 个铜层、多达 14 个技术层和多达 4 个辅助层的电路 板。KiCad 可以创建制造印刷电路板所需的所有文件、用于照片绘图仪的 Ger">
<meta property="og:type" content="article">
<meta property="og:title" content="KICAD学习笔记">
<meta property="og:url" content="http://lonlypan.com/2020/05/21/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="LonlyPan个人站">
<meta property="og:description" content="KiCad使用笔记（01）-介绍及设置 KiCad 是一个开源软件工具，用于创建电子原理图和 PCB 图形。   有充分的理由认为, KiCad 已足够成熟, 并可以用于开发和维护复杂的电路板。 KiCad 对电路板的大小不做任何限制, 它可以轻松地处理多达 32 个铜层、多达 14 个技术层和多达 4 个辅助层的电路 板。KiCad 可以创建制造印刷电路板所需的所有文件、用于照片绘图仪的 Ger">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD学习笔记/kicad.png">
<meta property="article:published_time" content="2020-05-20T16:00:00.000Z">
<meta property="article:modified_time" content="2022-06-09T16:00:00.000Z">
<meta property="article:author" content="LonlyPan">
<meta property="article:tag" content="LonlyPan个人站，LonlyPan，Lonly，致简，丢了幸福的猪，逍遥勿忘心安">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD学习笔记/kicad.png">
  
  
  <title>KICAD学习笔记 - LonlyPan个人站</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/custom.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"lonlypan.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":2},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"f56279d43c733d547ea06f75f8e05d89","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>LonlyPan的博客站</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/books/">
                <i class="iconfont icon-book"></i>
                书影
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                朋友
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="KICAD学习笔记"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2020-05-21 00:00" pubdate>
          2020年5月21日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          14k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          116 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">KICAD学习笔记</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：2022年6月10日 凌晨
                  
                
              </p>
            
            <div class="markdown-body">
              
              <p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Naisu_kun/article/details/80589942">KiCad使用笔记（01）-介绍及设置</a></p>
<p>KiCad 是一个开源软件工具，用于创建电子原理图和 PCB 图形。  </p>
<p>有充分的理由认为, KiCad 已足够成熟, 并可以用于开发和维护复杂的电路板。 KiCad 对电路板的大小不做任何限制, 它可以轻松地处理多达 32 个铜层、多达 14 个技术层和多达 4 个辅助层的电路 板。KiCad 可以创建制造印刷电路板所需的所有文件、用于照片绘图仪的 Gerber 文件、钻孔文件、元件位置文件等 等。 </p>
<p>作为开源 (GPL 许可) 软件, KiCad 是面向有意创建开源电子硬件的项目的工程师的理想工具。 在互联网上, KiCad 的主页是:<br><a target="_blank" rel="noopener" href="https://kicad-pcb.org/">https://kicad-pcb.org/</a></p>
<span id="more"></span>
<h1 id="官方入门文档翻译"><a href="#官方入门文档翻译" class="headerlink" title="官方入门文档翻译"></a>官方入门文档翻译</h1><h2 id="1、KiCad安装"><a href="#1、KiCad安装" class="headerlink" title="1、KiCad安装"></a>1、KiCad安装</h2><p>下载链接：<br><a target="_blank" rel="noopener" href="https://kicad-pcb.org/download/">https://kicad-pcb.org/download/</a><br>Windows 版本下镜像站：<br><a target="_blank" rel="noopener" href="https://mirror.tuna.tsinghua.edu.cn/kicad/windows/stable/">https://mirror.tuna.tsinghua.edu.cn/kicad/windows/stable/</a></p>
<h2 id="2、KiCad流程"><a href="#2、KiCad流程" class="headerlink" title="2、KiCad流程"></a>2、KiCad流程</h2><p> KiCad 的特点是独特的工作流程，其中<strong>原理图元件和封装是分开的。仅在创建原理图后才会为元件分配封装。</strong></p>
<p>KiCad 工作流由两个主要任务组成: <strong>绘制原理图和布置电路板。原理图元件库和 PCB 封装库对于这两个任务都是必需的</strong>。</p>
<p>在下图中, 您将看到一个表示 KiCad 工作流的流程图。 流程图说明了您需要采取哪些步骤, 以及以何种顺序采取这些步骤。（必看）</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/kicad_flowchart.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>有关 <strong>库编辑器</strong> 和 <strong>封装编辑器</strong> 请见后文详述。</p>
<h2 id="3、使用KICad"><a href="#3、使用KICad" class="headerlink" title="3、使用KICad"></a>3、使用KICad</h2><h3 id="3-1-快捷键"><a href="#3-1-快捷键" class="headerlink" title="3.1 快捷键"></a>3.1 快捷键</h3><p>KiCad 有两种相关但不同的快捷键: 快捷键 (accelerator keys) 和热键 (hotkeys)。</p>
<h3 id="3-1-1-快捷键"><a href="#3-1-1-快捷键" class="headerlink" title="3.1.1 快捷键"></a>3.1.1 快捷键</h3><p>快捷键的效果与单击菜单或工具栏图标的效果相同, 但在单击鼠标左键之前不会发生任何情况。快捷键显示在所有菜单窗格的右侧：</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_accelerator_keys.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<h3 id="3-1-2-热键"><a href="#3-1-2-热键" class="headerlink" title="3.1.2 热键"></a>3.1.2 热键</h3><p>热键 &#x3D; 快捷键 + 鼠标左键单击。使用热键会立即在当前光标位置启动该命令。使用热键可以在不中断工作流的情况下快速更改命令。 要查看任何 KiCad 工具中的热键，请转到 <strong>帮助 → 列出热键或按 Ctrl+F1</strong> ：</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%83%AD%E9%94%AE%E5%88%97%E8%A1%A8.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>您可以从 <strong>首选项 → 首选项 → 热键选项</strong> 菜单编辑热键的分配，并导入或导出它们。</p>
<blockquote>
<p><strong>注意</strong><br>在软件的中文界面，这里的热键都被翻译为快捷键，其实就是上述的热键。热键是可编辑且可单独查看的。<br>而实际的快捷键是无法编辑的，且查看的方式只有鼠标左键菜单栏，显示在所有菜单窗格的右侧。除了菜单栏外，其它选择窗口（如鼠标右键弹窗）也会在右侧显示键值，但这里的都是热键，快捷键仅限于菜单栏。<br>在本文档中，热键用括号表示：[a]。 如果看到 [a]，只需在键盘上键入 a 键即可。</p>
</blockquote>
<p><strong>例子</strong></p>
<p>以在原理图中添加走线的示例。</p>
<p>要使用快捷键, 请按 <code>Shift + W</code> 调用 <code>添加导线</code> 命令 (请注意光标将会更改)。接下来, 左键单击所需的导线开始位置, 开始绘制导线。</p>
<p>使用热键，只需按 <code>[w]</code>，线将立即从当前光标位置开始。</p>
<h3 id="3-2-鼠标操作"><a href="#3-2-鼠标操作" class="headerlink" title="3.2 鼠标操作"></a>3.2 鼠标操作</h3><p>鼠标滚轮，缩小放大视图。按下滚轮 (中键) 鼠标按钮将可以水平和垂直平移视图。</p>
<h2 id="4、绘制原理图"><a href="#4、绘制原理图" class="headerlink" title="4、绘制原理图"></a>4、绘制原理图</h2><ol>
<li><p>运行KiCad。下图是 KiCad 项目管理器的主窗口。 从这里您可以访问八个独立的软件工具：<strong>Eeschema，原理图库编辑器，Pcbnew，PCB 封装编辑器，GerbView，Bitmap2Component，PCB计算器 和 图框编辑器</strong>。请参阅工作流程图，了解如何使用主要工具。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/kicad_main_window.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>创建新工程：<strong>文件 → 新建 → 工程</strong>。 将项目文件命名为 <code>test1</code>。 项目文件将自动采用扩展名 .pro。</p>
</li>
<li><p>从创建原理图开始。开始原理图编辑器 eeschema , <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/eeschema.png" srcset="/img/loading.gif" lazyload alt="enter description here">。它是左边的第一个按钮。或者在左侧文件浏览区双击 <code>.sch</code> 文件。</p>
</li>
<li><p>单击顶部工具栏上的 <code>页面设置</code> 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/sheetset.png" srcset="/img/loading.gif" lazyload alt="enter description here">。 设置适当的 <code>纸张尺寸</code>（’A4’，’8.5x11’等）并输入标题为 <code>test1</code> 。 如有必要，您将在此处看到可以输入更多信息， 此信息将填充右下角的原理图信息表，需使用鼠标滚轮放大查看。单击 <code>确定</code>，退出 <code>页面设置</code>。保存整个原理图：<strong>文件 → 保存</strong></p>
</li>
<li><p>我们现在将放置第一个元件。 单击右侧工具栏中的 <code>放置符号</code> 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_component.png" srcset="/img/loading.gif" lazyload alt="enter description here">。 您也可以按 <code>添加符号</code> 热键 [a]。</p>
</li>
<li><p>单击原理图中任意空白部分。 屏幕上将出现 <code>选择符号</code> 窗口。 我们要放一个电阻器。 搜索&#x2F;过滤 <strong>R</strong>esistor 的 <code>R</code>。 您可能会注意到电阻器上方的 <code>Device</code> 标题。 此 <code>Device</code> 标题是元件所在库的名称，这是一个非常通用且有用的库。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/choose_component.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>双击 符号名 <code>R</code>。这将关闭 <code>选择符号</code> 窗口。 通过单击元件在原理图中的的位置将其放置在原理图中。</p>
</li>
<li><p>将鼠标悬停在元件 <code>R</code> 上（无需单击）, 然后按下 [R] 旋转元件。此时如果出现元件叠加的情况，就会弹出菜单明确选择对应的元件。</p>
</li>
<li><p>右键单击元件选择 <strong>属性 -&gt; 编辑值</strong> 。请注意, 下面的右键单击菜单显示的快捷方式都是热键。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/edit_component_dropdown.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>也可以通过将鼠标悬停在元件上并按 [V] 来实现相同的结果。或者，按下 [E] 将打开到更通用的 <code>属性</code> 窗口。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/value_and_attribute.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>在文本输入域当中。 用 1k 替换当前值 R。 单击确定。</p>
<blockquote>
<p>不要更改参考字段（R?），稍后会自动完成。 电阻器上方的值现在应为 1k 。<br>工具 → 编辑符号字段 可以批量修改元件相关数据</p>
</blockquote>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/resistor_value.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>如果您输入错误并想要删除元件，请右键单击该元件并单击 <code>删除 </code>。 这将从原理图中删除元件。 或者，您可以将鼠标悬停在要删除的元件上，然后按 [Delete]。</p>
</li>
<li><p>您还可以通过将鼠标悬停在原理图页上并按 [C] 来复制已经存在于原理图页上的元件。单击要放置新复制元件的位置。</p>
</li>
<li><p>右键单击电阻、标识符、编号等，选择移动 或 [m] 可以实现相同的功能。可以<strong>单独移动</strong>任何符号到满意的位置。</p>
<blockquote>
<p>右键单击 → 拖动 或 [G]，也可以移动元件，该方式可以在保持导线连接的情况下移动元件。</p>
</blockquote>
</li>
<li><p>更改网格大小。 您可能已经注意到，在原理图表上，所有元件都被捕捉到大间距网格上。 您可以通过 <strong>右键单击 → 网格</strong> 轻松更改网格的大小。 <code>通常，建议使用 50.0mils 的网格</code>。</p>
</li>
<li><p>重复添加元件步骤，组织原理图纸上的所有元件，如下所示。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_tutorial1_010.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>我们现在需要创建原理图元件 “MYCONN3”。 您可以跳转到标题为 《make-schematic-symbols-in-kicad（制作-原理图-符号-在-kicad），Make Schematic Symbols in KiCad（在 KiCad 中制作原理图符号）》 的部分，了解如何从头开始制作该元件，然后返回本节继续下一步。</p>
</li>
<li><p>您现在可以放置新制作的元件。 按 [a] 并选择 myLib 库中的 MYCONN3 元件。</p>
</li>
<li><p>单击右侧工具栏上的 <code>放置电源端口</code> 按钮 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_power.png" srcset="/img/loading.gif" lazyload alt="enter description here">。 或者，按 [p]。 在元件选择窗口中，向下滚动并从 <code>Power</code>库中选中并且放置 VCC 和 GND，此时原理图效果呈现的如下：<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_tutorial1_020.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>接下来，我们将连接所有元件。 单击右侧工具栏上的 <code>放置电线</code> 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_line.png" srcset="/img/loading.gif" lazyload alt="enter description here">。或者使用 Shift + W 或 [W]。</p>
<blockquote>
<p>小心不要选择 放置总线，它位于此按钮的正下方，但线条较粗。</p>
</blockquote>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_tutorial1_040.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>我们现在将考虑使用标签建立连接的另一种方法。 通过单击右侧工具栏上的 放置网络标签 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_line_label.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 来选择网络标签工具。 你也可以用 [l]。下面是最终的结果。</p>
<blockquote>
<p>您不必标记 VCC 和 GND 线，因为标签是从它们所连接的电源对象中隐含的。</p>
</blockquote>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_tutorial1_050.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>单击右侧工具栏上的 放置 <code>无连接标志</code> 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/noconn.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。 单击悬空引脚2,3,4和5，表示缺少引脚未连接是故意的。这样在之后的 KiCad 检查时，就不会出现警告。（任何未连接的引脚或电线都会产生警告）</p>
</li>
<li><p>某些元件具有不可见的电源引脚。 您可以通过单击左侧工具栏上的 显示隐藏的引脚 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/hidden_pin.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 使其可见。 一般隐藏的引脚会自动连接（多为VCC，GND或NC悬空）。 同时你应该尽量不要制作隐藏的电源引脚。</p>
</li>
<li><p>现在需要添加一个 <code>Power Flag</code> 来向 KiCad 表明电源是从某个地方进来的。 按 [a] 并搜索 电源 库中的 PWR_FLAG 。 放置其中两个。 将它们连接到 GND 引脚和 VCC，如下所示。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_tutorial1_070.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<blockquote>
<p>这将避免经典的原理图检查警告： 引脚连接到其他一些引脚但没有引脚来驱动它 。</p>
</blockquote>
</li>
<li><p>注释原理图符号。 事实上，我们的许多元件仍被命名为 R? 还是 J? 。 通过单击顶部工具栏上的 注释原理图符号 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/annotate.png" srcset="/img/loading.gif" lazyload alt="enter description here"> ，在注释原理图窗口中，选择 <code>使用整个原理图</code> 并单击<code> 注释</code> 按钮，将自动完成标识符分配。 点击 关闭 退出操作。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%87%E6%B3%A8%E5%8E%9F%E7%90%86%E5%9B%BE.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<blockquote>
<p>注意，如果选择 <strong>重置现有标注</strong>，将会打乱PCB电路板中的原有布局。慎重选择！！！</p>
</blockquote>
</li>
<li><p>检查原理图的错误。 单击顶部工具栏上的 执行电气规则检查 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/erc.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。 单击 运行 按钮。 生成一个报告，通知您任何错误或警告，例如断开的电线。 你应该有 0个错误 和 0个警告。 如果出现错误或警告，原理图中将出现一个小绿色箭头，指示错误或警告所在的位置。 选中 创建ERC文件报告 并再次按 运行 按钮以接收有关错误的更多信息。</p>
</li>
<li><p>编辑封装。右键单击符号 → 属性 → 编辑封装 双击符号，或右键单击符号 → 属性 → 编辑属性 → Foorprint 为每个元件单独编辑封装。（不推荐使用）<br> 工具 → 分配封装 或者 单击顶部工具栏上的图标<img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/cvpcb.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。批量分配PCB封装到原理图符号。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%89%B9%E9%87%8F%E5%88%86%E9%85%8D%E5%B0%81%E8%A3%85.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p> 右侧窗格可能只显示可用封装的一个子集。点击图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/module_filtered_list.png" srcset="/img/loading.gif" lazyload alt="enter description here">，<img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/module_library_list.png" srcset="/img/loading.gif" lazyload alt="enter description here"> ，<img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/module_pin_filtered_list.png" srcset="/img/loading.gif" lazyload alt="enter description here">以启用或禁用这些筛选器。</p>
<p> 你也可以通过 工具 → 编辑符号字段 或者 单击顶部工具栏上的图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%BC%96%E8%BE%91%E7%AC%A6%E5%8F%B7%E5%AD%97%E6%AE%B5.png" srcset="/img/loading.gif" lazyload alt="enter description here">，批量编辑封装（不推荐）</p>
</li>
<li><p>如果您有兴趣知道您选择的封装是什么样的，您可以单击 查看所选封装 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/show_footprint.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 以预览当前封装。</p>
</li>
<li><p>完成以后，可以通过点击 文件 → 保存原理图 或使用 应用、保存原理图和继续 按钮保存原理图</p>
</li>
<li><p>要创建物料清单（BOM），请转到 Eeschema 原理图编辑器，然后单击顶部工具栏上的 <code>生成物料清单</code> 图标<img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bom_(1).png" srcset="/img/loading.gif" lazyload alt="enter description here">。 默认情况下，没有处于活动的插件。 您可以通过单击 添加插件 按钮添加一个。这里，我们选择 bom2csv.xsl。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bom.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<blockquote>
<p>注意下面的命令行：<br><code> xsltproc -o &quot;%O&quot; &quot;/home/&lt;user&gt;/kicad/eeschema/plugins/bom2csv.xsl&quot; &quot;%I&quot;</code><br>“%O”  需要修改为 “%O.csv”，表示输出文件格式为 .csv，这样我们就可以使用相关软件正常打开并编辑 BOM 文件了。<br>完整命令如下：<br><code>xsltproc -o &quot;%O.csv&quot; &quot;/home/&lt;user&gt;/kicad/eeschema/plugins/bom2csv.xsl&quot; &quot;%I&quot;</code></p>
</blockquote>
<p>按 <code>帮助</code> 按钮获取更多信息</p>
</li>
<li><p>现在按 <code>生成</code>。 该文件（与项目同名）位于项目文件夹中（与.pro文件同级目录）。 使用 LibreOffice Calc 或 Excel 打开 * .csv 文件，进行查看或编辑。</p>
</li>
</ol>
<p>您现在可以转到 PCB 布局部分，这将在下一节中介绍。 但是，在继续之前，让我们快速了解如何使用总线连接元件引脚。</p>
<h3 id="KiCad-的总线连接"><a href="#KiCad-的总线连接" class="headerlink" title="KiCad 的总线连接"></a>KiCad 的总线连接</h3><p>有时您可能需要将元件 A 的多个顺序引脚与元件 B 的其他顺序引脚连接。在这种情况下，您有两个选项：我们已经看到的标记方法或使用总线连接。 让我们看看如何做到这一点。</p>
<ol>
<li><p>让我们假设您有三个4针连接器，您想要将引脚连接在一起。 使用标签选项（按 [L]）标记 P4 部件的引脚4。 将此标签命名为 a1 。 现在按 [Insert] 将相同的项目自动添加到引脚4（引脚3）下方的引脚上。 注意标签是如何自动重命名为 a2 。</p>
<blockquote>
<p>通过 [Insert] 可重复上一项 选项，并自动递增编号。用于重复期间项目插入。</p>
</blockquote>
</li>
<li><p>在另外两个连接器 CONN_2 和 CONN_3 上重复相同的标签操作，您就完成了。 如果继续制作 PCB，您将看到三个连接器相互连接。 下图2 显示了我们描述的结果。 出于美观目的，还可以使用<code>将电线放入总线</code>图标图像<img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_line2bus.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 添加一系列入口，将电线放入总线入口和使用<code>总线线路</code>图标图像：<img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_bus2bus.png" srcset="/img/loading.gif" lazyload alt="enter description here">将总线放到总线入口 ，如下图3 所示。但是，请注意，对 PCB 没有影响。</p>
</li>
<li><p>应该指出的是，连接到 图2 中的引脚的短导线不是严格必需的。 实际上，标签可以直接应用于引脚。</p>
</li>
<li><p>让我们更进一步，假设你有一个名为 CONN_4 的第四个连接器，无论出于什么原因，它的标签恰好有点不同（b1，b2，b3，b4）。 现在我们想要以引脚到引脚的方式将_Bus a_ 与 Bus b 连接起来。 我们希望不使用引脚标记（这也是可能的），而是使用总线上的标签，每个总线一个标签。</p>
</li>
<li><p>使用之前说明的标记方法连接并标记 CONN_4。 将引脚命名为b1，b2，b3和b4。 使用图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_line2bus.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 将引脚连接到一系列 <code>电线到总线入口</code> ，并使用图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_bus.png" srcset="/img/loading.gif" lazyload alt="enter description here">连接到总线。见下图4。</p>
</li>
<li><p>在 CONN_4 的总线上放一个标签（按[l]）并命名为 b[1..4] 。</p>
</li>
<li><p>在前一个总线上放一个标签（按[l]）并将其命名为 a[1..4] 。</p>
</li>
<li><p>我们现在可以做的是使用带有按钮图像的总线连接总线 a[1..4] 和总线 b[1..4] ： <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_bus.png" srcset="/img/loading.gif" lazyload alt="enter description here">。</p>
</li>
<li><p>通过将两条总线连接在一起，引脚a1 将自动连接到 引脚b1，a2将连接到b2，依此类推。 图4 显示了最终结果的样子。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_bus_connection.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
</ol>
<h2 id="布局电路板"><a href="#布局电路板" class="headerlink" title="布局电路板"></a>布局电路板</h2><ol>
<li><p>从 KiCad 项目管理器，单击 Pcb布局编辑器 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/pcbnew.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。 您还可以使用 Eeschema 中的相应工具栏按钮。 Pcbnew 窗口将打开。 如果您收到一条消息，指出 *.kicad_pcb 文件不存在并询问您是否要创建它，只需单击是。</p>
<blockquote>
<p>也可以直接在Eeschema  原理图 界面中菜单栏上的 <strong>工具 -&gt; 从原理图更新 PCB..</strong> ，直接基于原理图生成 PCB ，操作完成以后将会自动打开如下的 Pcbnew 编辑界面。若如此，可跳过步骤5。</p>
</blockquote>
</li>
<li><p>首先输入一些原理图信息。 单击顶部工具栏上的 页面设置 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/sheetset.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。 将相应的 纸张尺寸（ A4，8.5x11 等）和 标题 设置为 教程1 。</p>
</li>
<li><p>最好将 间距 和 最小布线宽度 设置为PCB制造商要求的宽度。 通常，您可以将间隙设置为 0.25mm，将最小轨道宽度设置为 0.25mm 。 单击 设置 → 设计规则 菜单。 如果它尚未显示，请单击 网络类编辑器 选项卡。 将窗口顶部的 间距 字段更改为 0.25mm，将 布线宽度 字段更改为 0.25mm，如下所示。 这里的测量单位是 mm。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/design_rules.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>单击 全局设计规则 选项卡，将 最小布线宽度 设置为 0.25mm 。 单击 确定 按钮以提交更改并关闭 设计规则编辑器 窗口。</p>
</li>
<li><p>单击菜单栏上的 <strong>工具 -&gt; 从原理图更新 PCB..</strong> ，导入元件。将元件移动到板的中间。</p>
</li>
<li><p>所有元件都通过称为 <code>飞线</code> 的一组细线体现引脚连接关系。 按下 显示&#x2F;隐藏板飞线 按钮 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/general_ratsnest.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 可以切换显示状态。</p>
</li>
<li><p>您可以通过将每个元件悬停在其上并按 [m] 来移动它们。 单击要放置它们的位置。 或者，您可以通过单击选择元件然后拖动它。 按 [r] 旋转元件。 移动所有元件，直到最小化电线交叉的数量。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_tutorial1_080.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>现在我们将定义 PCB 的板子形状。 从顶部工具栏的下拉菜单中选择 边切（边缘切割） 图层。 单击右侧工具栏上的 添加图形线 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_dashed_line.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。 沿着电路板边缘，在每个角落点击，并记住在绿色边缘和 PCB 边缘之间留一个小间隙。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/select_edge_cuts.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>接下来，连接除 GND 之外的所有电线。 事实上，我们将使用放置在电路板底部铜线（称为 B.Cu ）的接地层一次连接所有 GND 连接。</p>
</li>
<li><p>如果您决定改为使用 4层 PCB，请转到 设置 → 层设置 并将 铜层 更改为 4.在 层 表中，您可以命名图层并确定它们的含义 用于。 请注意，可以通过 预设图层分组 菜单选择非常有用的预设。</p>
</li>
<li><p>现在我们必须选择我们想要处理的铜层。 单击右侧工具栏上的 布线 图标<img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_tracks.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。 单击开始布线，双击结束。布线宽度将默认为 0.250mm。 您可以从顶部工具栏的下拉菜单中更改布线宽度。 请注意，默认情况下，您只有一个可用的布线宽度。</p>
</li>
<li><p>如果您想添加更多的布线宽度，请转到：文件 → 电路板设置 或 单击顶部工具栏上的电路板设置按钮<img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%94%B5%E8%B7%AF%E6%9D%BF%E8%AE%BE%E7%BD%AE.png" srcset="/img/loading.gif" lazyload alt="enter description here">，在此设置窗口的 <strong>设计规则 →  导线和过孔</strong> 选项中，添加您希望可用的任何其他宽度。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/step-7.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>然后，您可以在布置电路板时从下拉菜单中选择布线的宽度。 请参阅下面的示例（英寸）。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/step-8.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>或者，您可以添加一个 网络类。 转到 设计规则 → 网络类编辑器 并添加新类。 这样当我们需要批量指定一类相同类型的布线（如电源类，特殊信号类），就可以在该界面选择该类，并指定该类导线所属网络类，自动批量应用布线规则而不影响到其他布线。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%BD%91%E7%BB%9C%E5%88%97%E8%A1%A8.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>如果要更改网格大小，右键单击 → 网格。 在放下元件并将它们与轨道连接在一起之前或之后，请务必选择合适的网格尺寸。</p>
</li>
<li><p>重复此过程，直到连接除 J1 的引脚3之外的所有电线。 您的电路板应如下所示。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_tutorial1_090.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>现在我们将制作一个连接到所有 GND 引脚的接地层。 单击右侧工具栏上的 添加填充区域 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_zone.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。 放置覆铜。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gsik_tutorial1_100.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>单击顶部工具栏上的 执行设计规则检查 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/drc.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 运行设计规则检查器。 点击 开始DRC 。 应该没有错误。 点击 列表未连接 。 应该没有未连接的项目。 单击 确定 关闭 DRC控制 对话框。</p>
</li>
<li><p>单击 文件 → 保存 保存文件。 要以 3D 方式观察您的电路板，请单击 视图 → 3D 查看器。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/pcbnew_3d_viewer.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
</li>
<li><p>你的板是完整的。 要将其发送给制造商，您需要生成所有 Gerber 文件。</p>
</li>
</ol>
<h3 id="生成-Gerber-文件"><a href="#生成-Gerber-文件" class="headerlink" title="生成 Gerber 文件"></a>生成 Gerber 文件</h3><p>完成 PCB 后，您可以为每一层生成 Gerber 文件，并将它们发送给您最喜欢的 PCB 制造商，他们将为您制作电路板。</p>
<ol>
<li>从 KiCad，打开 Pcbnew 板编辑器。</li>
<li>点击 <strong>文件 → 绘制</strong> 。 选择 Gerber 作为 绘制格式 并选择放置所有 Gerber 文件的文件夹。 单击 绘制 按钮继续。</li>
<li>单击 <code>生成钻孔文件</code>，生成钻孔文件。 </li>
<li>这些是您制作典型Gerber 文件的导出配置</li>
</ol>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/print.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<blockquote>
<p>注意：KiCad 输出的 Gerber 文件当中，后缀名为.dbr的文件为Gerber文件，后缀名为.drl的为钻孔文件，后缀名.pos则代表位置文件。</p>
</blockquote>
<p><strong>PCB层详述</strong></p>
<table>
<thead>
<tr>
<th>层</th>
<th>KiCad层名</th>
<th>Gerber扩展名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>Bottom Layer（底层）</td>
<td>B.Cu（底层</td>
<td>.GBR</td>
<td>铜箔层</td>
</tr>
<tr>
<td>Top Layer（顶层）</td>
<td>F.Cu （顶层）</td>
<td>.GBR</td>
<td>铜箔层</td>
</tr>
<tr>
<td>Top Overlay （顶层丝印层）</td>
<td>F.SilkS （顶层丝印层）</td>
<td>.GBR</td>
<td>丝印</td>
</tr>
<tr>
<td>Bottom Overlay （底层丝印层）</td>
<td>B.SilkS （顶层丝印层）</td>
<td>.GBR</td>
<td>丝印</td>
</tr>
<tr>
<td>Bottom Solder Resist（底层阻焊层）</td>
<td>B.Mask （底层阻焊层）</td>
<td>.GBR</td>
<td>焊盘区，不盖油</td>
</tr>
<tr>
<td>Top Solder Resist（顶层阻焊层）</td>
<td>F.Mask（顶层阻焊层）</td>
<td>.GBR</td>
<td>焊盘区，不盖油</td>
</tr>
<tr>
<td>Edges（边缘（板框）层）</td>
<td>Edge.Cuts （边缘（板框）层）</td>
<td>.GBR</td>
<td>定义板子形状</td>
</tr>
<tr>
<td></td>
<td>.drl文件 钻孔层</td>
<td></td>
<td>非金属和金属</td>
</tr>
<tr>
<td></td>
<td>.Paste 助焊层</td>
<td></td>
<td>开钢网用</td>
</tr>
</tbody></table>
<blockquote>
<p>边框，铜箔曾，阻焊层，丝印层，钻孔 一定要有</p>
</blockquote>
<h3 id="使用-Gerbview"><a href="#使用-Gerbview" class="headerlink" title="使用 Gerbview"></a>使用 Gerbview</h3><ol>
<li>要查看所有 Gerber 文件，请转到 KiCad 项目管理器并单击 GerbView 图标。 在下拉菜单或图层管理器中，选择 图形图层1 。 单击 <strong>文件 → 打开 Gerber 文件</strong> 或单击图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/gerber_file.png" srcset="/img/loading.gif" lazyload alt="enter description here"> 。 选择并打开所有生成的 Gerber 文件。 注意它们如何一个显示在另一个之上。</li>
<li>使用 <strong>文件 → 打开 Excellon 钻孔文件</strong> 打开钻孔文件。</li>
<li>使用右侧的图层管理器选择&#x2F;取消选择要显示的图层。 在发送生产之前仔细检查每一层。</li>
<li>该视图与 Pcbnew 类似。 在视图内右键单击并单击 网格 以更改网格。</li>
</ol>
<h3 id="使用-FreeRouter-自动布线"><a href="#使用-FreeRouter-自动布线" class="headerlink" title="使用 FreeRouter 自动布线"></a>使用 FreeRouter 自动布线</h3><p>手动布线板既快速又有趣，但对于具有大量元件的电路板，您可能希望使用自动布线器。 请记住，您应首先手动路由关键迹线，然后设置自动布线器以执行无聊位。 它的工作只会解释未布线的痕迹。 我们将在这里使用的自动布线器是 FreeRouting。</p>
<ol>
<li>从 <em>Pcbnew</em> 单击 <strong>文件 → 导出 → Specctra DSN</strong> 并在本地保存文件。 启动 FreeRouter 并单击 <em>打开您自己的设计</em> 按钮，浏览 <em>dsn</em> 文件并加载它。</li>
<li>FreeRouter 具有 KiCad 目前不具备的一些功能，包括手动路由和自动路由。 FreeRouter 主要有两个步骤：首先，对电路板进行布线，然后对其进行优化。 完全优化可能需要很长时间，但您可以随时停止它。</li>
<li>您可以通过单击顶部栏上的 <em>自动布线器</em> 按钮来启动自动路由。 底栏为您提供有关正在进行的路由过程的信息。 如果 <em>通过</em> 计数超过30，则您的电路板可能无法使用此路由器自动执行。 更多地展开您的元件或更好地旋转它们并再试一次。 零件的旋转和位置的目标是降低速率的交叉走线的数量。</li>
<li>左键单击鼠标可以停止自动路由并自动启动优化过程。 另一次左键单击将停止优化过程。 除非你真的需要停下来，否则最好让 FreeRouter 完成它的工作。</li>
<li>单击 <strong>文件 → 导出 Specctra 会话文件</strong> 菜单并使用 .ses 扩展名保存板文件。 您实际上不需要保存 FreeRouter 规则文件。</li>
<li>回到 <em>Pcbnew</em>。 您可以通过单击 <strong>文件 → 导入 → Spectra 会话</strong> 并选择 .ses 文件来导入刚刚布线的电路板。</li>
</ol>
<p>如果有任何您不喜欢的布线，可以使用 [Delete] 和路由工具删除它并重新路由它，这是 <em>布线</em> 图标 <img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/add_tracks.png" srcset="/img/loading.gif" lazyload alt="enter description here">在右侧工具栏上添加。</p>
<h2 id="制作原理图符号"><a href="#制作原理图符号" class="headerlink" title="制作原理图符号"></a>制作原理图符号</h2><p>有时，您想要放置在原理图中的符号不在 KiCad 库中。 这很正常，没有理由担心。 在本节中，我们将了解如何使用 KiCad 快速创建新的原理图符号。 不过，请记住，您始终可以在互联网上找到 KiCad 元件。</p>
<p>在 KiCad 中，符号是一段以 DEF 开头并以 ENDDEF 结尾的文本。 一个或多个符号通常放在库文件中，扩展名为 .lib。 如果要将符号添加到库文件，只需使用文本编辑器的剪切和粘贴命令即可。</p>
<h2 id="制作元件封装"><a href="#制作元件封装" class="headerlink" title="制作元件封装"></a>制作元件封装</h2><h2 id="关于KiCad项目文件的可移植性的注意事项"><a href="#关于KiCad项目文件的可移植性的注意事项" class="headerlink" title="关于KiCad项目文件的可移植性的注意事项"></a>关于KiCad项目文件的可移植性的注意事项</h2><p>您需要将哪些文件发送给某人才能完全加载和使用您的KiCad项目？  </p>
<p>当你有一个KiCad项目与某人分享时，重要的是原理图文件.sch，板文件.kicad_pcb，项目文件.pro和网表文件.net，与两个原理图一起发送库文件.lib和封装文件.kicad_mod。只有这样，人们才能完全自由地修改原理图和电路板。</p>
<p>使用KiCad原理图，人们需要包含符号的.lib文件。需要在Eeschema首选项中加载这些库文件。另一方面，使用板（.kicad_pcb文件），封装可以存储在.kicad_pcb文件中。您可以向某人发送.kicad_pcb文件，而不是其他任何内容，他们仍然可以查看和编辑该板。但是，当他们想要从网表加载元件时，脚本库（.kicad_mod文件）需要存在并加载到Pcbnew首选项中，就像原理图一样。此外，有必要在Pcbnew的首选项中加载.kicad_mod文件，以便在Cvpcb中显示这些封装。</p>
<p>如果有人向您发送了一个带有封装的.kicad_pcb文件，您可以在另一个板上使用，您可以打开封装编辑器，从当前板上加载封装，并将其保存或导出到另一个封装库中。您也可以通过Pcbnew→文件→压缩→封装-创建封装压缩，这将创建一个新的一次导出.kicad_pcb文件中的所有封装。.kicad_mod文件包含所有板的封装。</p>
<p>最重要的是，如果PCB是你想要分发的唯一东西，那么电路板文件.kicad_pcb就足够了。但是，如果您想让人们完全能够使用和修改您的原理图，其元件和PCB，强烈建议您压缩并发送以下项目目录：</p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">教程1/<br>|<span class="hljs-string">--教程1.pro</span><br><span class="hljs-string"></span>|<span class="hljs-string">--教程1.sch</span><br><span class="hljs-string"></span>|<span class="hljs-string">--教程1.kicad_pcb</span><br><span class="hljs-string"></span>|<span class="hljs-string">--教程1.net</span><br><span class="hljs-string"></span>|<span class="hljs-string">--library/</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">--myLib.lib</span><br><span class="hljs-string"></span>|<span class="hljs-string">    </span>|<span class="hljs-string">--myOwnLib.lib</span><br><span class="hljs-string"></span>|<span class="hljs-string">    \--myQuickLib.lib</span><br><span class="hljs-string"></span>|<br>|<span class="hljs-string">--myfootprint.pretty/</span><br><span class="hljs-string"></span>|<span class="hljs-string">    \--MYCONN3.kicad_mod</span><br><span class="hljs-string"></span>|<br>\--gerber/<br>|<span class="hljs-string">-- ...</span><br><span class="hljs-string"></span>|<span class="hljs-string">-- ...</span><br></code></pre></td></tr></table></figure>

<h2 id="更多文档信息"><a href="#更多文档信息" class="headerlink" title="更多文档信息"></a>更多文档信息</h2><h2 id="参考连接"><a href="#参考连接" class="headerlink" title="参考连接"></a>参考连接</h2><p>不要在符号编辑和封装编辑中添加中文，否则在使用  Library Loader 时会出错，导致无法加载库。</p>
<p>当你使用Library Loader 下载新元件库时，软件会提醒如下</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/warring.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>当你打开软件，加载符号编辑时，则会提醒</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/error.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>此时你的 SamacSys_Parts.lib 库是无法打开的，没有任何符号，但其实是有的  </p>
<p>原因是使用Library Loader 下载新元件时，其会自动修改 lib 库文件，将新原件添加进去，完成全自动操作。但如果存在中文，则可能会使中文乱码，导致数据错误。如下图，红色是原来的数据，绿色则是修改后的乱码数据。</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/reson.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>所以当出现以上错误时，我们可以使用文档编辑软件（推荐 VS code）打开 SamacSys_Parts.lib 库文件，找到乱码处（错误弹窗中会提示错误行号，这里是 327），手动修改回来。这样就能正常加载了，再在符号编辑处将中文删除，避免下次再错。</p>
<p>另外可能 SamacSys_Parts.dcm 文件也会乱码，这里我没复现成功，原因和上面类似，手动修改即可。</p>
<h3 id="阵列"><a href="#阵列" class="headerlink" title="阵列"></a>阵列</h3><p>选择阵列时，特征如果是依附与某个实体（圆角，凹坑基于立方体），则应先阵列该实体（立方体），否则特征就无法阵列（无实体可依附，即悬空，软件判断为错误，无法阵列）</p>
<p>有些圆角无法阵列，就很离谱。好像只有拉伸和切割可以阵列</p>
<h3 id="与KiCAD"><a href="#与KiCAD" class="headerlink" title="与KiCAD"></a>与KiCAD</h3><h2 id="kicadStepUpMod插件"><a href="#kicadStepUpMod插件" class="headerlink" title="kicadStepUpMod插件"></a>kicadStepUpMod插件</h2><p>可以导入Kicad的PCB模型，并且还可以导入布线层和丝印层，使得模型更加逼真。<br><a target="_blank" rel="noopener" href="https://github.com/easyw/kicadStepUpMod">Github地址</a><br><a target="_blank" rel="noopener" href="https://github.com/easyw/kicadStepUpMod/blob/master/demo/kicadStepUp-starter-Guide.pdf">使用文档kicadStepUp-starter-Guide</a></p>
<ol>
<li>插件安装<br>一般可以通过FreeCAD的插件管理器在线安装，但由于网络问题经常失败，这里使用手动安装。<br>插件一般都安装在FreeCAD的软件路径 Mod 文件夹下，默认路径<br><code>C:\Program Files\FreeCAD 0.19\Mod</code><br>从 Github下载 kicadStepUpMod插件，解压，重命名为 <code>kicadStepUpMod</code>，复制到Mod 文件夹下<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1652154429562.png" srcset="/img/loading.gif" lazyload alt="enter description here"></li>
<li>配置插件<br>首次使用，需要配置 3d模型目录位置，不配置的化，使用时，会提示找不到模型文件，模型就会缺少3d模型。在FreeCAD按如下步骤打开配置界面<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1652154656598.png" srcset="/img/loading.gif" lazyload alt="enter description here"></li>
</ol>
<ul>
<li>main 3d floder location：填写KICAD软件自带的3d模型库位置，一般为<br> <code>C:/Program Files/KiCad/6.0/share/kicad/3dmodels</code></li>
<li>下面的 <code>ALT2\3\4 3DMOD</code> 配置自己的3D模型库目录，如果没有的话，不用填</li>
<li>库地址要和KICAD中库的地址一样（我的KICAD库在D盘）<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1652154938442.png" srcset="/img/loading.gif" lazyload alt="enter description here"></li>
</ul>
<ol start="3">
<li>使用</li>
</ol>
<ul>
<li>导入PCB和布线，直接选择PCB（.kicad_pcb）文件即可</li>
<li>导入丝印，需要KICAD单独将丝印层导出为 DXF 格式，然后选中该文件即可导入<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1652159076649.png" srcset="/img/loading.gif" lazyload alt="enter description here"></li>
</ul>
<h2 id="stp-x2F-step-3d文件编辑"><a href="#stp-x2F-step-3d文件编辑" class="headerlink" title="stp&#x2F;step 3d文件编辑"></a>stp&#x2F;step 3d文件编辑</h2><p>很多元器件官方或可以网络上找到器件对应的step模型，但是导入封装是，未知不匹配，需要手动添加偏移。KICAD官方推荐是最好不要由偏移，stp文件导入进去就是和封装对齐的。如下，默认位置是偏的：<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655515347137.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>我们需要使用工具修改stp文件，使位置对其。</p>
<h3 id="0-首先安装官方手册，绘制好-封装。"><a href="#0-首先安装官方手册，绘制好-封装。" class="headerlink" title="0. 首先安装官方手册，绘制好 封装。"></a>0. 首先安装官方手册，绘制好 封装。</h3><p>注意kicad中的封装视图最好和手册中的移植，不能出现旋转（一般是180旋转，不推荐）.不然后面3d模型对齐调整时，就得自己进行额外的换算。</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655687948012.png" srcset="/img/loading.gif" lazyload alt="1655687948012"></p>
<h3 id="1-下载安装-FreeCAD-软件，并打开"><a href="#1-下载安装-FreeCAD-软件，并打开" class="headerlink" title="1. 下载安装 FreeCAD 软件，并打开"></a>1. 下载安装 <a target="_blank" rel="noopener" href="https://www.freecadweb.org/">FreeCAD</a> 软件，并打开</h3><p>文件 -&gt; 打开，我们下载的stp模型文件</p>
<p>将工作台切换成Draft<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655516546648.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>开始前需要先了解几个基本概念和操作</p>
<ol>
<li>Draft 工作台是二维平面的，所以所有的操作都是在一个面上的。所以我们需要先选定一个平面，才能编辑。上图中1号图标就是切换平面的，单击可进入修改界面。</li>
<li>上、前、侧面则是指定默认平面，平面的定义和右上角的视图选择显示的是一样的（记住这个很重要）</li>
<li>对齐和自动有点像啊，这里没发现区别。都是根据右上角视图选择选定的当前视图作为平面。（个人猜测自动是在编辑的过程中软件会根据你的操作自动选择切换平面，但实测还想没用）</li>
<li>移动工作平面，如果你的平面和模型位置差很远的话，可以使用这个初步将平面移动到模型的位置。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655516512193.png" srcset="/img/loading.gif" lazyload alt="enter description here"></li>
<li>2号图标是点捕获功能，可以从模型中捕获点。依次是端点捕获（线条的一端），中点捕获、圆心捕获。</li>
<li>3号图标是拖动和旋转，用于改变模型位置的</li>
</ol>
<h3 id="2-模型翻转"><a href="#2-模型翻转" class="headerlink" title="2. 模型翻转"></a>2. 模型翻转</h3><p>首先将模型视角翻转到和数据手册一样<br>使用右上角视图切换功能，将模型视角切换到俯视图（TOP，注意TOP字体不能是旋转的，得是正的），和数据手册中的视角一致</p>
<ul>
<li>会发现模型实际是底视图，和数据手册并不一致，所以我们需要先翻转过来</li>
<li>另外可以发现，我们如果是左右翻转，则翻转后的正好和数据手册一样</li>
<li>但如果是上下翻转，则和数据手册是镜像模式，还需要再旋转180度，所以我们执行左右翻转，可以省事，这里需要额外多考虑一步</li>
</ul>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655690043379.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>点击视图切换的上下图标，将模型旋转到前（或后）视图。这里为什么左右翻转要先将视角上下旋转，可以自己尝试看看，主要是操作时二维的，所以我们左右旋转的旋转轴是垂直前后视图对应的平面，就需要在该平面操作。并使用auto 和 移动工作平面 将工作平面也切换到当前视角</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655689983301.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>选中所有实体（可以按住鼠标左键不动，全部选中），不要选中上面黄色的零件图标，单击旋转图标</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655690619391.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>将鼠标移到左侧栏，确保下面的三个单选框没有勾选，再将坐标全部改为0（可以在输入完一栏后按Enter切换到下一栏），数据输完后，可以再按Enter确定（或者单击下面的输入点按钮）<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655690636375.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>和上面操作一样，取消所有单选框，角度改为0，Enter确定<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655690650952.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>旋转角度180，Enter确定</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655690670081.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>可以发现模型已经翻转过来了（下图右侧，左侧为原来的样子）<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655690741161.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>可以切换到 TOP 俯视图，单击选中实体（选中部分会高亮显示），右键切换可见性，隐藏其显示。这样俯视图就可以看到引脚了，可以和数据手册对比，完全一致。<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655691175171.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>再左右旋转视图，切换到左（或右）视图，将工作平面切换到俯视平面（相当于PCB板的那个面），这里不要单击移动到工作平面按钮，可以发现模型和平面还存在距离，此时若导入到封装中，模型就是嵌入到板子里的，不是贴在板子上（就是位置还是不对的）<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655691355931.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>将平面切换到侧面，和当前视图平面一致。同样选中所有实体，单击移动图标<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655695146265.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>选中端点捕获图标，将鼠标移动到任意线段上，选择一个需要紧贴PCB的点（点会白色高亮显示），单击确定选中<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655691901472.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>此时模型会跟随鼠标移动，我们将鼠标移到左侧栏，将坐标全改为0（有时只能修改一个轴的坐标，说明工作平面没切换对，需要先切换），单击Enter确定修改<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655695257539.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>可以发现模型地面已经和俯视平面（PCB）齐平了，绿色轴线就是俯视平面即PCB平面<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655695299830.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>下面就是将引脚1的坐标对齐到零点了（和封装库引脚1的坐标一致，一般插件会规定引脚1的坐标再零点）。</p>
<p>将视图切换到俯视，工作平面也切换到俯视，隐藏主要实体，只保留引脚的。<br>选中所有实体（包含隐藏显示的），选择移动图标<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655692662715.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>选中圆心捕获图标，选择引脚1的圆心（白点），此时鼠标不要动，记住Z坐标（俯视平面是XY，所以记住Z，如果是XZ，就记住Y。我们这里是XY）<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655695408556.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>在左侧栏将XY坐标改为0，Z保持不变，单击Enter确定修改<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655695502288.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>此时引脚1的坐标已经对到零点了<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655695567848.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>切换到 <a target="_blank" rel="noopener" href="https://github.com/easyw/kicadStepUpMod">kicadStepUp-WB</a> 工作台（需要单独安装改插件，请在前面章节查看相关教程）。<br>选择左侧栏黄色零件图标，选择导出图标<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655693185513.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>尺寸精度，默认<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655693287144.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>折角平缓，默认<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655693311624.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>材料颜色，全部默认（和step显示的一样，你也可以自行修改）<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655693364131.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>导出完成，会同时导出step和wrl两种格式，kicad都支持<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655693401386.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p>导入到KICAD中，模型就和封装完全对齐了，不用修改任何数据<br><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1655695905779.png" srcset="/img/loading.gif" lazyload alt="enter description here"><br>参考资料：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/easyw/kicadStepUpMod">kicadStepUp-WB</a></li>
<li><a target="_blank" rel="noopener" href="https://gitlab.com/kicad/libraries/kicad-packages3D">KiCad Packages3D</a></li>
<li><a target="_blank" rel="noopener" href="https://forum.freecadweb.org/viewtopic.php?t=16817">How to move and align STEP assembly</a><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=b3NoAOxOGxA&amp;feature=emb_rel_end">https://www.youtube.com/watch?v=b3NoAOxOGxA&amp;feature=emb_rel_end</a></li>
<li><a target="_blank" rel="noopener" href="https://forum.kicad.info/t/kicad-to-dxf-or-dwg/7994">https://forum.kicad.info/t/kicad-to-dxf-or-dwg/7994</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/easyw/kicadStepUpMod">https://github.com/easyw/kicadStepUpMod</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=KSeicvr6Rog">https://www.youtube.com/watch?v=KSeicvr6Rog</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=6R6UEUScjgA">https://www.youtube.com/watch?v=6R6UEUScjgA</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=n04M6nFvdxs">https://www.youtube.com/watch?v=n04M6nFvdxs</a></li>
</ul>
<ol>
<li><a target="_blank" rel="noopener" href="https://docs.kicad-pcb.org/5.1.6/zh/">KiCad官方文档</a></li>
<li><a target="_blank" rel="noopener" href="https://uinika.github.io/Electronics/KiCad.html">开源 EDA 工具 KiCad 5.1.5 电路设计手册</a></li>
<li><a target="_blank" rel="noopener" href="https://an_kang.gitee.io/2020/ck93pvj620008u0rhh0qaa55i/">KiCad基本使用</a>  </li>
<li><a target="_blank" rel="noopener" href="https://gitee.com/KiCAD-CN">KiCad-CN</a>  </li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/F4NNIU/p/KiCad.html">开源 KiCad EDA 中文资料收集整理 (2020-05-15)</a>6</li>
<li><a target="_blank" rel="noopener" href="https://www.samacsys.com/kicad/">Setting up Library Loader for use with KiCad</a></li>
</ol>
<h2 id="PCB生产注意事项"><a href="#PCB生产注意事项" class="headerlink" title="PCB生产注意事项"></a>PCB生产注意事项</h2><h3 id="没有封装被放置"><a href="#没有封装被放置" class="headerlink" title="没有封装被放置"></a>没有封装被放置</h3><p>在 KICAD 导出制造输出 - 封装位置文件，会提示：没有封装被放置（No footprint for automated placement）  </p>
<p>原因：KICAD默认不会给 通孔 元件输出位置文件，所以如果你的板子恰好全是 通孔 元件，就会出现这样的错误。</p>
<p>解决：双击通孔元器件，将其 <strong>制造属性</strong> 手动修改为 <strong>表面贴装</strong>。</p>
<p><img src="https://lonly-hexo-img.oss-cn-shanghai.aliyuncs.com/hexo_images/KICAD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%88%B6%E9%80%A0%E5%B1%9E%E6%80%A7.png" srcset="/img/loading.gif" lazyload alt="enter description here"></p>
<p><strong>参考链接</strong><br><a target="_blank" rel="noopener" href="https://electronics.stackexchange.com/questions/456671/kicad-no-footprint-for-automated-placement">1. KiCad: “No footprint for automated placement”</a></p>
<h3 id="KiCad-插件"><a href="#KiCad-插件" class="headerlink" title="KiCad 插件"></a>KiCad 插件</h3><p><a target="_blank" rel="noopener" href="https://my.oschina.net/taotieren/blog/3233534">https://my.oschina.net/taotieren/blog/3233534</a></p>
<h2 id="辅助工具"><a href="#辅助工具" class="headerlink" title="辅助工具"></a>辅助工具</h2><p><a target="_blank" rel="noopener" href="https://componentsearchengine.com/">https://componentsearchengine.com/</a>   模型库下载</p>
<h1 id="KICAD-嘉立创SMT生产经验"><a href="#KICAD-嘉立创SMT生产经验" class="headerlink" title="KICAD-嘉立创SMT生产经验"></a>KICAD-嘉立创SMT生产经验</h1><p>原文：<br><a target="_blank" rel="noopener" href="https://notes.glab.online/#/posts/4">https://notes.glab.online/#/posts/4</a></p>
<p>以下为全文转载，留作备份</p>
<p>要想圆满的完成贴装，从设计PCB文件之前就要注意以下几点：</p>
<p>1、原理图中原理图符号要正确的关联封装。也就是要填写正确的封装、还有元件的值。如封装：0805，值：10KΩ。</p>
<!--more-->

<p>2、关联封装的时候为了确保最后贴装正确，要确保你的封装是正确的。但是网上各种封装画得五花八门的，我就曾经被不标准的封装害的翻车，所以最好的是用嘉立创自己提供的封装库。同时一些带极性的元件，比如贴片LED灯，贴片开关二极管，也要确保正确的封装0度方向，所以为了确保万无一失，从设计之初就选择嘉立创的封装吧。点击下载：嘉立创Kicad封装库</p>
<p>3、要能实现SMT贴装，你还需要通过Kicad导出gerber文件、BOM清单、元件位置文件。其中gerber文件导出可以放心的提交生产。而Kicad原生导出的BOM清单和元件位置文件不符合嘉立创的格式标准。这个可以用KiCAD生产文件生成器，直接生成符合嘉立创格式标准的BOM清单和元件位置文件。</p>
<p>还需要注意的是，这里生成的BOM清单是否准确，依赖你最初画原理图时填写的信息是否准确，如果你填写本身不准确，这时候的BOM清单就是错误的。</p>
<p>总体来说，只要注意以上三点，你就能很方便的实现在嘉立创完成SMT贴装。也不必有太多顾虑，整个SMT下单过程中，会让你确定贴装的元件，贴装元件的位置，贴装元件的极性，最终还会给你一张贴装工艺图，这样多次检查下来，基本能避免错误导致翻车。第一次后，你就会非常熟悉流程，节约你大量的手焊时间了。</p>
<p>PCB设计中检查要点：</p>
<p>1、原理图的检查。执行电气规则检查可以检查出一些错误，但是一些错误必须人工确认，比如：针脚是否有错，因为针脚和封装的焊盘对应，如果出错，电气规则检查是查不出来的， 只能人工确认。特别是采用了未确认过的的原理图符号，最好反复确认是否有错。</p>
<p>2、PCB文件的检查。DRC检查可以检查出连接问题，连线重合等等，但是一些错误也必须人工确认，比如：PCB边框是否封闭；元件的丝印是否被遮挡；覆铜是否正确（覆铜的网络设定是否准确）；贴片元件是否会遮挡住插件元件（最好加上3D模型确认）；元件移动后是否相应的设置作了移动，如PCB天线的禁布区在PCB天线移动后随之移动；有极性元件的方向是否正确；焊盘的网络名是否有错；新的封装是否验证过。</p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/01-%E4%B8%93%E4%B8%9A/" class="category-chain-item">01-专业</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>KICAD学习笔记</div>
      <div>http://lonlypan.com/2020/05/21/KICAD学习笔记/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>LonlyPan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2020年5月21日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="NC - 非商业性使用">
                <i class="iconfont icon-nc"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="SA - 相同方式共享">
                <i class="iconfont icon-sa"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/10/09/%E5%8D%95%E7%89%87%E6%9C%BA%E5%BC%80%E5%8F%91%E5%BA%94%E7%94%A8%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/" title="单片机开发应用经验总结">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">单片机开发应用经验总结</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/05/13/Office%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/" title="Office使用技巧总结">
                        <span class="hidden-mobile">Office使用技巧总结</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.4.16/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"geH90Q7ihl9Si5Llagt8GcC2-MdYXbMMI","appKey":"fO2rYFt9wStdv0SX7C7omkal","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"https://geh90q7i.api.lncldglobal.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <i class="iconfont icon-copyright"> 2019-2022 |</i> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">载入天数...</span> <script src="/js/duration.js"></script> </div> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?f56279d43c733d547ea06f75f8e05d89";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  

  




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
